# ü§ù –£—á–∞—Å—Ç–∏–µ –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ KotvukAI

–°–ø–∞—Å–∏–±–æ –∑–∞ –∏–Ω—Ç–µ—Ä–µ—Å –∫ –ø—Ä–æ–µ–∫—Ç—É! –ú—ã –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤—É–µ–º –≤–∫–ª–∞–¥ –æ—Ç —Å–æ–æ–±—â–µ—Å—Ç–≤–∞.

---

## üìã –ö–∞–∫ –≤–Ω–µ—Å—Ç–∏ –≤–∫–ª–∞–¥

### 1. –°–æ–æ–±—â–∏—Ç—å –æ–± –æ—à–∏–±–∫–µ

- –û—Ç–∫—Ä–æ–π—Ç–µ [Issue](../../issues/new) —Å –º–µ—Ç–∫–æ–π `bug`
- –û–ø–∏—à–∏—Ç–µ –æ–∂–∏–¥–∞–µ–º–æ–µ –∏ —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ
- –£–∫–∞–∂–∏—Ç–µ —à–∞–≥–∏ –¥–ª—è –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è
- –ü—Ä–∏–ª–æ–∂–∏—Ç–µ —Å–∫—Ä–∏–Ω—à–æ—Ç—ã, –µ—Å–ª–∏ –≤–æ–∑–º–æ–∂–Ω–æ

### 2. –ü—Ä–µ–¥–ª–æ–∂–∏—Ç—å —É–ª—É—á—à–µ–Ω–∏–µ

- –û—Ç–∫—Ä–æ–π—Ç–µ Issue —Å –º–µ—Ç–∫–æ–π `enhancement`
- –û–ø–∏—à–∏—Ç–µ –ø—Ä–µ–¥–ª–∞–≥–∞–µ–º—É—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –∏ –∑–∞—á–µ–º –æ–Ω–∞ –Ω—É–∂–Ω–∞

### 3. –û—Ç–ø—Ä–∞–≤–∏—Ç—å Pull Request

1. –°–¥–µ–ª–∞–π—Ç–µ **fork** —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
2. –°–æ–∑–¥–∞–π—Ç–µ –≤–µ—Ç–∫—É –æ—Ç `main` (—Å–º. [—Å–æ–≥–ª–∞—à–µ–Ω–∏—è –ø–æ –∏–º–µ–Ω–æ–≤–∞–Ω–∏—é –≤–µ—Ç–æ–∫](#–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ-–≤–µ—Ç–æ–∫))
3. –í–Ω–µ—Å–∏—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –ø—Ä–æ–µ–∫—Ç –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
5. –û—Ç–∫—Ä–æ–π—Ç–µ **Pull Request** —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º –∏–∑–º–µ–Ω–µ–Ω–∏–π (—Å–º. [—à–∞–±–ª–æ–Ω PR](#—à–∞–±–ª–æ–Ω-pull-request))

---

## üé® Code Style Guide

### –û–±—â–∏–µ –ø—Ä–∞–≤–∏–ª–∞

- **–û—Ç—Å—Ç—É–ø—ã:** 2 –ø—Ä–æ–±–µ–ª–∞ (–Ω–µ —Ç–∞–±—ã)
- **–¢–æ—á–∫–∏ —Å –∑–∞–ø—è—Ç–æ–π:** –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã
- **–ö–∞–≤—ã—á–∫–∏:** –æ–¥–∏–Ω–∞—Ä–Ω—ã–µ `'` –¥–ª—è JS, –æ–±—Ä–∞—Ç–Ω—ã–µ `` ` `` –¥–ª—è —à–∞–±–ª–æ–Ω–Ω—ã—Ö —Å—Ç—Ä–æ–∫
- **–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –¥–ª–∏–Ω–∞ —Å—Ç—Ä–æ–∫–∏:** 120 —Å–∏–º–≤–æ–ª–æ–≤ (—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è)
- **–ë–µ–∑ –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –∏ –∏–º–ø–æ—Ä—Ç–æ–≤**
- **Trailing comma:** –≤ –º–Ω–æ–≥–æ—Å—Ç—Ä–æ—á–Ω—ã—Ö –º–∞—Å—Å–∏–≤–∞—Ö –∏ –æ–±—ä–µ–∫—Ç–∞—Ö

### –ò–º–µ–Ω–æ–≤–∞–Ω–∏–µ

| –ß—Ç–æ | –°—Ç–∏–ª—å | –ü—Ä–∏–º–µ—Ä |
|---|---|---|
| –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ | camelCase | `totalPnl`, `currentPrice` |
| –§—É–Ω–∫—Ü–∏–∏ | camelCase | `calcEMA()`, `checkAlerts()` |
| React-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã | PascalCase | `ChartsPanel`, `AIChat` |
| –§–∞–π–ª—ã –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ | PascalCase.jsx | `DashboardPanel.jsx` |
| –£—Ç–∏–ª–∏—Ç—ã/–∫–æ–Ω—Ç–µ–∫—Å—Ç—ã | PascalCase.jsx | `AuthContext.jsx`, `LangContext.jsx` |
| –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã | UPPER_SNAKE_CASE | `JWT_SECRET`, `GROQ_KEY` |
| CSS-–∫–ª–∞—Å—Å—ã | camelCase (inline styles) | `styles.navItem` |
| API –º–∞—Ä—à—Ä—É—Ç—ã | kebab-case | `/api/download-project` |
| –ë–î —Ç–∞–±–ª–∏—Ü—ã | snake_case | `signal_results` |
| –ë–î –∫–æ–ª–æ–Ω–∫–∏ | snake_case | `entry_price`, `created_at` |

### React / Frontend

```jsx
// ‚úÖ –•–æ—Ä–æ—à–æ
const [isOpen, setIsOpen] = useState(false);
const { t } = useLang();
const { theme } = useTheme();

// ‚ùå –ü–ª–æ—Ö–æ
const [open, setopen] = useState(false); // –Ω–µ camelCase –¥–ª—è —Å–µ—Ç—Ç–µ—Ä–∞
var x = useLang(); // var, –Ω–µ–∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω–æ–µ –∏–º—è
```

- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã + —Ö—É–∫–∏ (–Ω–µ –∫–ª–∞—Å—Å—ã)
- –î–µ—Å—Ç—Ä—É–∫—Ç—É—Ä–∏–∑–∞—Ü–∏—è –ø—Ä–æ–ø—Å–æ–≤: `function Panel({ symbol, onClose })`
- `useEffect` ‚Äî –≤—Å–µ–≥–¥–∞ —É–∫–∞–∑—ã–≤–∞–π—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- –°—Ç–∏–ª–∏ ‚Äî inline objects —á–µ—Ä–µ–∑ `getStyles(theme)` –ø–∞—Ç—Ç–µ—Ä–Ω (—Å–º. `App.jsx`)

### Backend

```javascript
// ‚úÖ –•–æ—Ä–æ—à–æ
app.get('/api/trades', (req, res) => {
  const { status } = req.query;
  const trades = db.prepare('SELECT * FROM trades WHERE status = ?').all(status);
  res.json(trades);
});

// ‚ùå –ü–ª–æ—Ö–æ
app.get('/api/trades', function(req, res) {  // function –≤–º–µ—Å—Ç–æ arrow
  var trades = db.prepare("SELECT * FROM trades").all();  // var, –¥–≤–æ–π–Ω—ã–µ –∫–∞–≤—ã—á–∫–∏
  res.send(trades);  // .send –≤–º–µ—Å—Ç–æ .json
});
```

- Arrow functions –¥–ª—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ –º–∞—Ä—à—Ä—É—Ç–æ–≤
- –ü–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ SQL-–∑–∞–ø—Ä–æ—Å—ã (`:?` placeholders) ‚Äî **–Ω–∏–∫–æ–≥–¥–∞** –Ω–µ –∫–æ–Ω–∫–∞—Ç–µ–Ω–∞—Ü–∏—è —Å—Ç—Ä–æ–∫
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫: `try/catch` —Å `res.status(500).json({ error: e.message })`

---

## üåø Git Workflow

### –ò–º–µ–Ω–æ–≤–∞–Ω–∏–µ –≤–µ—Ç–æ–∫

```
<—Ç–∏–ø>/<–∫—Ä–∞—Ç–∫–æ–µ-–æ–ø–∏—Å–∞–Ω–∏–µ>

feat/whale-panel          ‚Äî –Ω–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
fix/alert-trigger-bug     ‚Äî –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–∞–≥–∞
docs/architecture-md      ‚Äî –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
style/dark-theme-tweaks   ‚Äî —Å—Ç–∏–ª–∏ –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ª–æ–≥–∏–∫–∏
refactor/split-server     ‚Äî —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥
test/trade-api-tests      ‚Äî —Ç–µ—Å—Ç—ã
chore/update-deps         ‚Äî –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
i18n/news-panel-en        ‚Äî –ø–µ—Ä–µ–≤–æ–¥—ã
```

### –°—Ç–∏–ª—å –∫–æ–º–º–∏—Ç–æ–≤

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ [Conventional Commits](https://www.conventionalcommits.org/):

```
<—Ç–∏–ø>(<–æ–±–ª–∞—Å—Ç—å>): <–æ–ø–∏—Å–∞–Ω–∏–µ>

feat(trades): add auto-close on TP/SL hit
fix(ai): handle empty klines response
docs(readme): update installation steps
style(dashboard): adjust card spacing
refactor(server): extract indicator calculations
test(alerts): add trigger condition tests
i18n(settings): add English translations
chore(deps): bump better-sqlite3 to 11.x
```

**–¢–∏–ø—ã:**

| –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|---|---|
| `feat` | –ù–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å |
| `fix` | –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–∞–≥–∞ |
| `docs` | –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è |
| `style` | –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (–±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ª–æ–≥–∏–∫–∏) |
| `refactor` | –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ |
| `test` | –¢–µ—Å—Ç—ã |
| `chore` | –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏, –∫–æ–Ω—Ñ–∏–≥, CI |
| `i18n` | –ü–µ—Ä–µ–≤–æ–¥—ã |
| `perf` | –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ |

### –ü—Ä–∞–≤–∏–ª–∞

- –ö–æ–º–º–∏—Ç-—Å–æ–æ–±—â–µ–Ω–∏—è –Ω–∞ **–∞–Ω–≥–ª–∏–π—Å–∫–æ–º**
- –û–¥–Ω–∞ —Ñ–∏—á–∞/—Ñ–∏–∫—Å = –æ–¥–∏–Ω PR
- –ù–µ –∫–æ–º–º–∏—Ç–∏—Ç—å `node_modules/`, `dist/`, `*.db`, `.env`
- Squash –º–µ–ª–∫–∏—Ö –∫–æ–º–º–∏—Ç–æ–≤ –ø–µ—Ä–µ–¥ –º–µ—Ä–∂–µ–º

---

## üìù –®–∞–±–ª–æ–Ω Pull Request

```markdown
## –û–ø–∏—Å–∞–Ω–∏–µ
–ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π.

## –¢–∏–ø –∏–∑–º–µ–Ω–µ–Ω–∏—è
- [ ] feat ‚Äî –Ω–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
- [ ] fix ‚Äî –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–∞–≥–∞
- [ ] docs ‚Äî –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- [ ] refactor ‚Äî —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥
- [ ] style ‚Äî –≤–∏–∑—É–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
- [ ] test ‚Äî —Ç–µ—Å—Ç—ã

## –ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ
- [ ] –û–ø–∏—Å–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è 1
- [ ] –û–ø–∏—Å–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è 2

## –°–∫—Ä–∏–Ω—à–æ—Ç—ã (–µ—Å–ª–∏ –ø—Ä–∏–º–µ–Ω–∏–º–æ)

## –ß–µ–∫–ª–∏—Å—Ç
- [ ] –ö–æ–¥ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Å—Ç–∏–ª—é –ø—Ä–æ–µ–∫—Ç–∞
- [ ] –ü—Ä–æ–µ–∫—Ç –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫
- [ ] –ü–µ—Ä–µ–≤–æ–¥—ã –¥–æ–±–∞–≤–ª–µ–Ω—ã (RU + EN) –≤ i18n.js
- [ ] –ù–µ—Ç console.log (–∫—Ä–æ–º–µ —Å–µ—Ä–≤–µ—Ä–Ω—ã—Ö –ª–æ–≥–æ–≤ —Å —ç–º–æ–¥–∑–∏)
- [ ] –ü—Ä–æ–≤–µ—Ä–µ–Ω–æ –≤ –º–æ–±–∏–ª—å–Ω–æ–º —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–∏
```

---

## üß© –ö–∞–∫ –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—É—é –ø–∞–Ω–µ–ª—å

### 1. –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞

```bash
touch frontend/src/panels/MyNewPanel.jsx
```

### 2. –ù–∞–ø–∏—à–∏—Ç–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç

```jsx
import React, { useState, useEffect } from 'react';
import { useLang } from '../LangContext';
import { useTheme } from '../ThemeContext';
import { useAuth } from '../AuthContext';

const getStyles = (theme) => ({
  container: { padding: 0 },
  title: {
    fontSize: 22, fontWeight: 700, color: theme.text,
    marginBottom: 20, display: 'flex', alignItems: 'center', gap: 10,
  },
  card: {
    background: theme.cardBg, borderRadius: 16,
    border: '1px solid ' + theme.border, padding: 20, marginBottom: 16,
  },
  // ... –¥–æ–±–∞–≤—å—Ç–µ —Å–≤–æ–∏ —Å—Ç–∏–ª–∏
});

export default function MyNewPanel() {
  const { t } = useLang();
  const { theme } = useTheme();
  const { user } = useAuth();
  const styles = getStyles(theme);

  const [data, setData] = useState([]);
  const [loading, setLoading] = useState(true);

  useEffect(() => {
    fetch('/api/my-endpoint')
      .then(r => r.json())
      .then(setData)
      .catch(console.error)
      .finally(() => setLoading(false));
  }, []);

  return (
    <div style={styles.container}>
      <div style={styles.title}>üÜï {t('myNewPanel')}</div>
      <div style={styles.card}>
        {loading ? t('loading') : JSON.stringify(data)}
      </div>
    </div>
  );
}
```

### 3. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ –≤ App.jsx

```jsx
// 1. –ò–º–ø–æ—Ä—Ç (–≤–≤–µ—Ä—Ö—É —Ñ–∞–π–ª–∞)
import MyNewPanel from './panels/MyNewPanel';

// 2. –î–æ–±–∞–≤—å—Ç–µ –≤ –º–∞—Å—Å–∏–≤ basePanels
const basePanels = [
  // ... —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –ø–∞–Ω–µ–ª–∏
  { id: 'mynew', icon: 'üÜï', labelKey: 'myNewPanel' },
];

// 3. –î–æ–±–∞–≤—å—Ç–µ —Ä–µ–Ω–¥–µ—Ä –≤ switch/—É—Å–ª–æ–≤–∏–µ (–≤ –æ–±–ª–∞—Å—Ç–∏ content)
{panel === 'mynew' && <MyNewPanel />}
```

### 4. –î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–µ–≤–æ–¥—ã –≤ i18n.js

```javascript
// –í –æ–±—ä–µ–∫—Ç ru:
myNewPanel: '–ú–æ—è –ø–∞–Ω–µ–ª—å',

// –í –æ–±—ä–µ–∫—Ç en:
myNewPanel: 'My Panel',
```

---

## üîå –ö–∞–∫ –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π API –º–∞—Ä—à—Ä—É—Ç

### 1. –î–æ–±–∞–≤—å—Ç–µ –º–∞—Ä—à—Ä—É—Ç –≤ server.js

```javascript
// ============ MY FEATURE ============

// GET ‚Äî –ø–æ–ª—É—á–∏—Ç—å –¥–∞–Ω–Ω—ã–µ
app.get('/api/my-feature', (req, res) => {
  try {
    const data = db.prepare('SELECT * FROM my_table ORDER BY created_at DESC').all();
    res.json(data);
  } catch (e) {
    res.status(500).json({ error: e.message });
  }
});

// POST ‚Äî —Å–æ–∑–¥–∞—Ç—å –∑–∞–ø–∏—Å—å
app.post('/api/my-feature', (req, res) => {
  try {
    const { name, value } = req.body;
    if (!name || !value) return res.status(400).json({ error: 'Missing fields' });
    const r = db.prepare('INSERT INTO my_table (name, value) VALUES (?, ?)').run(name, value);
    res.json({ id: r.lastInsertRowid });
  } catch (e) {
    res.status(500).json({ error: e.message });
  }
});

// DELETE ‚Äî —É–¥–∞–ª–∏—Ç—å –∑–∞–ø–∏—Å—å
app.delete('/api/my-feature/:id', (req, res) => {
  try {
    db.prepare('DELETE FROM my_table WHERE id = ?').run(req.params.id);
    res.json({ ok: true });
  } catch (e) {
    res.status(500).json({ error: e.message });
  }
});
```

### 2. –ï—Å–ª–∏ –Ω—É–∂–Ω–∞ –Ω–æ–≤–∞—è —Ç–∞–±–ª–∏—Ü–∞ ‚Äî –¥–æ–±–∞–≤—å—Ç–µ –≤ –±–ª–æ–∫ `db.exec()`

```javascript
CREATE TABLE IF NOT EXISTS my_table (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  name TEXT NOT NULL,
  value REAL,
  created_at DATETIME DEFAULT CURRENT_TIMESTAMP
);
```

### 3. –ï—Å–ª–∏ –Ω—É–∂–Ω–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è

```javascript
// –î–ª—è –º–∞—Ä—à—Ä—É—Ç–∞, –¥–æ—Å—Ç—É–ø–Ω–æ–≥–æ —Ç–æ–ª—å–∫–æ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–º:
app.get('/api/my-feature', (req, res) => {
  if (!req.user) return res.status(401).json({ error: '–ù–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω' });
  // ...
});

// –î–ª—è –∞–¥–º–∏–Ω—Å–∫–æ–≥–æ –º–∞—Ä—à—Ä—É—Ç–∞:
app.get('/api/admin/my-feature', requireAdmin, (req, res) => {
  // ...
});

// –î–ª—è –º–∞—Ä—à—Ä—É—Ç–∞ —Å AI –ª–∏–º–∏—Ç–æ–º:
app.post('/api/my-feature/ai', (req, res) => {
  if (!checkAiLimit(req, res)) return;
  // ...
});
```

### 4. –ï—Å–ª–∏ –Ω—É–∂–µ–Ω –ø—Ä–æ–∫—Å–∏ –∫ –≤–Ω–µ—à–Ω–µ–º—É API

```javascript
app.get('/api/my-external', async (req, res) => {
  try {
    const r = await fetch('https://external-api.com/data');
    const data = await r.json();
    res.json(data);
  } catch (e) {
    res.status(500).json({ error: e.message });
  }
});
```

---

## üß™ Testing Guidelines

### –†—É—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (—Ç–µ–∫—É—â–∏–π –ø–æ–¥—Ö–æ–¥)

–ü–æ–∫–∞ –ø—Ä–æ–µ–∫—Ç –Ω–µ –∏–º–µ–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ç–µ—Å—Ç–æ–≤, –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ –≤—Ä—É—á–Ω—É—é:

1. **–ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞:**
   ```bash
   cd backend && node server.js
   cd frontend && npm run dev
   ```

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:** 
   - –ü—Ä–æ–µ–∫—Ç –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫ –≤ –∫–æ–Ω—Å–æ–ª–∏
   - –í—Å–µ –ø–∞–Ω–µ–ª–∏ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è
   - API-–∑–∞–ø—Ä–æ—Å—ã –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç –¥–∞–Ω–Ω—ã–µ
   - –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç (—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è, –≤—Ö–æ–¥, –≤—ã—Ö–æ–¥)

3. **–¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ –≤ –¥–≤—É—Ö —è–∑—ã–∫–∞—Ö:** RU –∏ EN

4. **–ú–æ–±–∏–ª—å–Ω–æ–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ:** –æ—Ç–∫—Ä–æ–π—Ç–µ DevTools ‚Üí Toggle device toolbar

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ API (curl)

```bash
# –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
curl -X POST http://localhost:3000/api/auth/register \
  -H "Content-Type: application/json" \
  -d '{"email":"test@test.com","password":"123456","name":"Test"}'

# –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
curl -X POST http://localhost:3000/api/auth/login \
  -H "Content-Type: application/json" \
  -d '{"email":"test@test.com","password":"123456"}'

# –ü–æ–ª—É—á–∏—Ç—å —Å–¥–µ–ª–∫–∏
curl http://localhost:3000/api/trades

# –°–æ–∑–¥–∞—Ç—å —Å–¥–µ–ª–∫—É
curl -X POST http://localhost:3000/api/trades \
  -H "Content-Type: application/json" \
  -d '{"pair":"BTCUSDT","direction":"long","quantity":0.1,"entry_price":65000}'
```

### –ë—É–¥—É—â–µ–µ: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ç–µ—Å—Ç—ã

–ü—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ —Ç–µ—Å—Ç–æ–≤ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ:
- **Backend:** Jest –∏–ª–∏ Vitest + supertest
- **Frontend:** Vitest + React Testing Library
- –§–∞–π–ª—ã —Ç–µ—Å—Ç–æ–≤: —Ä—è–¥–æ–º —Å –º–æ–¥—É–ª–µ–º (`MyPanel.test.jsx`) –∏–ª–∏ –≤ `__tests__/`

---

## üåê i18n Guidelines

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–µ—Ä–µ–≤–æ–¥–æ–≤

–§–∞–π–ª: `frontend/src/i18n.js`

```javascript
const translations = {
  ru: {
    dashboard: '–î–∞—à–±–æ—Ä–¥',
    charts: '–ì—Ä–∞—Ñ–∏–∫–∏',
    // ...
  },
  en: {
    dashboard: 'Dashboard',
    charts: 'Charts',
    // ...
  },
};
```

### –ü—Ä–∞–≤–∏–ª–∞

1. **–ö–∞–∂–¥—ã–π –≤–∏–¥–∏–º—ã–π —Ç–µ–∫—Å—Ç** –¥–æ–ª–∂–µ–Ω –∏–¥—Ç–∏ —á–µ—Ä–µ–∑ `t('key')` ‚Äî –Ω–∏–∫–∞–∫–æ–≥–æ —Ö–∞—Ä–¥–∫–æ–¥–∞ —Å—Ç—Ä–æ–∫ –≤ JSX
2. **–í—Å–µ–≥–¥–∞ –¥–æ–±–∞–≤–ª—è–π—Ç–µ –æ–±–∞ —è–∑—ã–∫–∞** (ru + en) –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
3. **–ö–ª—é—á–∏** ‚Äî camelCase –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º: `aiAnalytics`, `tradeHistory`, `noDataAvailable`
4. **–ù–µ –ø–µ—Ä–µ–≤–æ–¥–∏—Ç–µ:** —ç–º–æ–¥–∑–∏, —á–∏—Å–ª–∞, —Ç–∏–∫–µ—Ä—ã (BTCUSDT), —Ç–µ—Ö–Ω–∏—á–µ—Å–∫—É—é —Ç–µ—Ä–º–∏–Ω–æ–ª–æ–≥–∏—é –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ (RSI, MACD)
5. **–ü–ª—é—Ä–∞–ª–∏–∑–∞—Ü–∏—è:** –ø–æ–∫–∞ –ø—Ä–æ—Å—Ç–∞—è ‚Äî –æ–¥–Ω–∞ —Å—Ç—Ä–æ–∫–∞. –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ ‚Äî `t('trades_count', { count })` —Å –ª–æ–≥–∏–∫–æ–π –≤ `t()`

### –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

```jsx
import { useLang } from '../LangContext';

export default function MyPanel() {
  const { t } = useLang();

  return (
    <div>
      <h1>{t('myPanel')}</h1>
      <p>{t('noDataAvailable')}</p>
      <button>{t('refresh')}</button>
    </div>
  );
}
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞

–ü–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –ø–µ—Ä–µ–≤–æ–¥–æ–≤:
1. –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç–µ—Å—å –Ω–∞ EN –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö ‚Äî —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –Ω–µ—Ç `undefined` –∏–ª–∏ –∫–ª—é—á–µ–π –≤–º–µ—Å—Ç–æ —Ç–µ–∫—Å—Ç–∞
2. –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç–µ—Å—å –æ–±—Ä–∞—Ç–Ω–æ –Ω–∞ RU

---

## üèóÔ∏è –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞

```bash
# –ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å
git clone https://github.com/YOUR_USERNAME/KotvukAI.git
cd KotvukAI

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
cd backend && npm install
cd ../frontend && npm install
cd ..

# –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
cp .env.example .env
# –ó–∞–ø–æ–ª–Ω–∏—Ç—å .env:
#   GROQ_API_KEY=your_key
#   JWT_SECRET=your_secret

# –ó–∞–ø—É—Å—Ç–∏—Ç—å backend
cd backend && node server.js &

# –ó–∞–ø—É—Å—Ç–∏—Ç—å frontend (dev mode —Å HMR)
cd frontend && npm run dev

# –ò–ª–∏: —Å–æ–±—Ä–∞—Ç—å –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å production
cd frontend && npx vite build
cd ../backend && node server.js
# –û—Ç–∫—Ä—ã—Ç—å http://localhost:3000
```

---

## ‚öñÔ∏è –õ–∏—Ü–µ–Ω–∑–∏—è

–û—Ç–ø—Ä–∞–≤–ª—è—è Pull Request, –≤—ã —Å–æ–≥–ª–∞—à–∞–µ—Ç–µ—Å—å —Å —Ç–µ–º, —á—Ç–æ –≤–∞—à –≤–∫–ª–∞–¥ –±—É–¥–µ—Ç –ª–∏—Ü–µ–Ω–∑–∏—Ä–æ–≤–∞–Ω –ø–æ–¥ [MIT License](LICENSE).

## üí¨ –í–æ–ø—Ä–æ—Å—ã?

–û—Ç–∫—Ä–æ–π—Ç–µ Issue —Å –º–µ—Ç–∫–æ–π `question` –∏–ª–∏ —Å–≤—è–∂–∏—Ç–µ—Å—å —Å –º–µ–π–Ω—Ç–µ–π–Ω–µ—Ä–æ–º —á–µ—Ä–µ–∑ GitHub.
